<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ASIR Room-Escape (Web)</title>
    <link rel="stylesheet" href="css/styles.css" />
</head>

<!-- ── Configuración LLM ──────────────────────────────────── -->
<div id="llm-config" style="padding:5px; background:#252526; color:#d4d4d4; border-bottom:1px solid #555;">
<label for="llm-url">LLM URL:</label>
<input id="llm-url" type="text" value="http://localhost:8000"
        style="width:250px; margin-left:5px; background:#1e1e1e; color:#d4d4d4; border:1px solid #555;"/>
</div>

<body>
    
    <!-- ── Toggle Depuración ───────────────────────────────── -->
    <!-- <div style="padding:5px; background:#333; color:#fff;" hidden> -->
    <div style="padding:5px; background:#333; color:#fff;" hidden>
        <label><input type="checkbox" id="debug-toggle"/> Depuración LLM</label>
    </div>

    <div id="game-container">
        <div id="output"></div>

        <!-- ── select de acciones y select de objetivos -->
        <div id="control-bar" style="margin-bottom:5px; display:flex; gap:5px;">
            <select id="action-select" style="flex:1"></select>
            <select id="target-select" style="flex:1"></select>
            <label id="on-checkbox-label" style="display:none; white-space:nowrap;">
                <input type="checkbox" id="on-checkbox"/> on (optional)
              </label>
              <select id="target2-select" style="display:none; flex:1;"></select>            
        </div>

        <div id="input-area">
            <span id="input-label">Estudiante&gt;</span>
            <input id="input-field" type="text" autocomplete="off" disabled />
        </div>
    </div>

    <!-- ── Panel de Depuración (oculto por defecto) ─────────── -->
    <div id="debug-container"
        style="display:none;
                position:fixed; bottom:0; right:0;
                width:300px; height:200px;
                background:#111; color:#0f0;
                overflow:auto; padding:5px;
                font-family:monospace;
                font-size:12px;
                z-index:999;">
        <strong>DEBUG LLM:</strong>
        <pre id="debug-box"></pre>
        <!-- sección para hitos -->
        <div style="margin-top:15px; border-top:1px solid #0f0; padding-top:5px;">
            <strong>HITOS (PuzzleStates):</strong>
            <div id="hitos-container" style="margin-top:5px; max-height:120px; overflow-y:auto;"></div>
        </div>
    </div>

    <!-- Orquestador -->
    <script type="module" src="js/main.js"></script>
</body>
</html>